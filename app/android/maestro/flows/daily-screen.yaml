appId: com.bartmann.noteseditor
---
- launchApp
- tapOn:
    text: "Sebastian"
    optional: true
- waitForAnimationToEnd
- tapOn:
    text: "Daily"
    optional: true
- waitForAnimationToEnd
- takeScreenshot: "01-app-launch"

# Ensure we are on real Daily screen
- assertVisible: "CURRENT NOTE"
- assertVisible: "prev"
- assertVisible: "next"
- takeScreenshot: "02-daily-screen"
- tapOn: "prev"
- waitForAnimationToEnd
- takeScreenshot: "02a-after-prev"
- tapOn: "next"
- waitForAnimationToEnd
- takeScreenshot: "02b-after-next"

# Test refresh
- tapOn: "Reload"
- waitForAnimationToEnd
- takeScreenshot: "03-after-refresh"

# Test add work task
- tapOn: "Work task"
- assertVisible: "Task description"
- takeScreenshot: "04-task-input-visible"
- inputText: "Test task from Maestro"
- takeScreenshot: "05-task-text-entered"
- tapOn: "Save"
- waitForAnimationToEnd
- takeScreenshot: "06-task-saved"

# Verify append draft persists across view switches
- tapOn: "Write something..."
- inputText: "Draft persists across views"
- hideKeyboard
- takeScreenshot: "06a-draft-entered"
- tapOn: "More"
- waitForAnimationToEnd
- takeScreenshot: "06b-switched-more"
- tapOn: "Daily"
- waitForAnimationToEnd
- assertVisible: "Draft persists across views"
- takeScreenshot: "06c-draft-restored"

# Test edit mode
- tapOn: "Edit"
- assertVisible: "Save"
- assertVisible: "Cancel"
- takeScreenshot: "07-edit-mode"
- tapOn: "Cancel"
- takeScreenshot: "08-edit-cancelled"
